(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))i(t);new MutationObserver(t=>{for(const n of t)if(n.type==="childList")for(const r of n.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&i(r)}).observe(document,{childList:!0,subtree:!0});function o(t){const n={};return t.integrity&&(n.integrity=t.integrity),t.referrerPolicy&&(n.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?n.credentials="include":t.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function i(t){if(t.ep)return;t.ep=!0;const n=o(t);fetch(t.href,n)}})();const J=document.querySelector(".desktop-clock-text");setInterval(()=>{const a=new Date,e=a.getHours().toString().padStart(2,"0"),o=a.getMinutes().toString().padStart(2,"0"),i=`${e}:${o}`;J.textContent=i},1e3);const X=window.localStorage;let P=X.getItem("username");function U(a){P?q(a):Y(a)}function Y(a){const e=document.createElement("div");e.classList.add("application-content"),e.classList.add("application-content-chat"),a.appendChild(e);const o=document.createElement("input");o.classList.add("application-chat-username-input"),o.setAttribute("placeholder","username"),o.setAttribute("maxlength",15),e.appendChild(o);const i=document.createElement("button");i.addEventListener("click",t),i.textContent="Submit",e.appendChild(i);function t(){P=o.value,X.setItem("username",P),e.removeChild(o),e.removeChild(i),q(a)}}function q(a){const e=document.createElement("div");e.classList.add("application-content"),e.classList.add("application-content-chat"),a.appendChild(e),document.addEventListener("keydown",y);const o=document.createElement("div");o.classList.add("application-chat-messages"),e.appendChild(o);const i=document.createElement("div");i.classList.add("application-chat-user-area"),e.appendChild(i);const t=document.createElement("textarea");t.classList.add("application-chat-text-area"),i.appendChild(t);const n=document.createElement("div");n.classList.add("application-chat-buttons-area"),i.appendChild(n);const r=document.createElement("button");r.textContent="Emojis",r.addEventListener("click",A),n.appendChild(r);const p=document.createElement("button");p.textContent="Submit",p.addEventListener("click",u),n.appendChild(p);const L=new WebSocket("wss://courselab.lnu.se/message-app/socket");L.onmessage=h=>{const g=JSON.parse(h.data);if(g.type==="message"){const f=g.username,m=g.data;E(f,m)}};let c=!1;const x=k();function y(h){if(h.key==="Enter"){if(!B(a))return;h.preventDefault(),u()}}function u(){if(t.value.trim()==="")return;const h=t.value;t.value="";const g={type:"message",data:h,username:P,channel:"unknown",key:"eDBE76deU7L0H9mEBgxUKVR0VCnq0XBd"};L.send(JSON.stringify(g))}function E(h,g){const f=new Date,m=f.getHours().toString().padStart(2,"0"),l=f.getMinutes().toString().padStart(2,"0"),d=f.getSeconds().toString().padStart(2,"0"),C=`${m}:${l}:${d}`,b=document.createElement("p");b.classList.add("application-chat-message"),b.textContent=`[${C}] ${h}: ${g}`,o.appendChild(b)}function A(){c?(i.removeChild(x),c=!1):(c=!0,i.appendChild(x))}function k(){const h=document.createElement("div");h.classList.add("application-chat-emoji-menu"),["🙂","😀","😁","🤣","😛","😐","😔","😵","🙁","😮","😧","😭","😠","😡"].forEach(l=>{f(l)});function f(l){const d=document.createElement("div");d.addEventListener("click",()=>{m(l)}),d.classList.add("application-chat-emoji"),d.textContent=l,h.appendChild(d)}function m(l){t.value=`${t.value}${l}`}return h}}function K(a){const e=document.createElement("div");e.classList.add("application-content"),e.classList.add("application-content-game"),a.appendChild(e);const o=document.createElement("div");o.classList.add("application-game-dimensions"),e.appendChild(o);const i=document.createElement("input");i.classList.add("application-game-input-dimension"),i.setAttribute("type","number"),i.setAttribute("max","5"),i.setAttribute("min","2"),i.setAttribute("value","2"),o.appendChild(i);const t=document.createElement("p");t.textContent="X",o.appendChild(t);const n=document.createElement("input");n.classList.add("application-game-input-dimension"),n.setAttribute("type","number"),n.setAttribute("max","4"),n.setAttribute("min","2"),n.setAttribute("value","2"),o.appendChild(n);const r=document.createElement("button");r.addEventListener("click",L),r.textContent="Submit",e.appendChild(r);const p=document.createElement("p");p.classList.add("error-message");function L(){const c=parseInt(i.value)*parseInt(n.value);let x=0;if(c%2!==0){e.contains(p)&&e.removeChild(p),p.textContent="Rows X Columns should give an even number!",e.appendChild(p);return}if(c>16){e.contains(p)&&e.removeChild(p),p.textContent="No more than 16 cards allowed!",e.appendChild(p);return}e.innerHTML="";const y=document.createElement("div");y.classList.add("application-game-cards-space"),e.appendChild(y),y.style.gridTemplateColumns=`repeat(${n.value}, 1fr)`;const u=[];for(let s=0;s<c;s++){const v=document.createElement("div");v.classList.add("application-game-card"),v.classList.add("application-game-card-unknown"),v.setAttribute("value",s),v.addEventListener("click",T),y.appendChild(v),u.push(s%(c/2))}R(u);const E=document.createElement("div");E.classList.add("application-game-bottom-menu"),e.appendChild(E);let A=0;const k=document.createElement("p");k.textContent="Time: 00:00",E.appendChild(k);const h=setInterval(()=>{A++;const s=Math.floor(A/60).toString().padStart(2,"0"),v=(A%60).toString().padStart(2,"0"),G=`Time: ${s}:${v}`;k.textContent=G},1e3);let g=0;const f=document.createElement("p");f.textContent="Attempts: 0",E.appendChild(f),document.addEventListener("keydown",b);let m,l,d=0,C;w();function b(s){if(B(a))switch(s.key){case"ArrowLeft":S(-1);break;case"ArrowRight":S(1);break;case"ArrowUp":S(-parseInt(i.value));break;case"ArrowDown":S(parseInt(i.value));break;case"Enter":T(C);break}}function S(s){parseInt(d)+s<0||parseInt(d)+s>=c||(d=parseInt(d)+s,w())}function w(){C&&C.classList.contains("application-game-card-selected")&&C.classList.remove("application-game-card-selected"),C=e.querySelectorAll(".application-game-card").item(d),C.classList.add("application-game-card-selected")}function T(s){this!==void 0&&(s=this),!s.classList.contains("application-game-card-locked")&&m!==s&&(m?l||(l=s,$(l),d=s.getAttribute("value"),W()?(m.classList.add("application-game-card-locked"),l.classList.add("application-game-card-locked"),m=void 0,l=void 0,x++,console.log(x),x===c/2&&(clearInterval(h),F())):setTimeout(()=>{M(m),M(l),m=void 0,l=void 0},500)):(j(),m=s,$(m),d=s.getAttribute("value")),w())}function F(){E.classList.add("application-game-bottom-menu-completed");const s=document.createElement("button");s.addEventListener("click",O),s.textContent="Start over",e.appendChild(s)}function O(){L()}function $(s){s.classList.remove("application-game-card-unknown");const v=u[s.getAttribute("value")];s.classList.add(`application-game-card-${v}`)}function M(s){const v=u[s.getAttribute("value")];s.classList.remove(`application-game-card-${v}`),s.classList.add("application-game-card-unknown")}function W(){return u[m.getAttribute("value")]===u[l.getAttribute("value")]}function j(){f.textContent=`Attempts: ${++g}`}}}function R(a){for(let e=a.length-1;e>0;e--){const o=Math.floor(Math.random()*(e+1));[a[e],a[o]]=[a[o],a[e]]}}async function V(a){const e="e1c6e78d0e1d601a3af92becee420f6a";let o,i;const t=document.createElement("div");t.classList.add("application-content"),t.classList.add("application-content-weather"),a.appendChild(t),n(),setInterval(()=>{n()},3e5);function n(){navigator.geolocation.getCurrentPosition(async function(r){o=r.coords.latitude,i=r.coords.longitude;const p=`https://api.openweathermap.org/data/2.5/weather?lat=${o}&lon=${i}&appid=${e}&units=metric`,c=await(await fetch(p)).json(),x=c.name,y=c.sys.country,u=c.weather[0].id,E=c.weather[0].description,A=Math.round(parseFloat(c.main.temp)),k=Math.round(parseFloat(c.main.feels_like)),h=c.main.humidity,g=c.main.pressure,f=c.sys.sunrise,m=c.sys.sunset,l=document.createElement("h2");l.textContent=`${x}, ${y}`,t.appendChild(l);const d=document.createElement("div");d.classList.add("application-weather-icon"),console.log(u),u>800?d.classList.add("application-weather-icon-clouds"):u===800?d.classList.add("application-weather-icon-clear"):u>=700?d.classList.add("application-weather-icon-atmosphere"):u>=600?d.classList.add("application-weather-icon-snow"):u>=300?d.classList.add("application-weather-icon-rain"):u>=200&&d.classList.add("application-weather-icon-thunderstorm"),t.appendChild(d);const C=document.createElement("p");C.textContent=E,t.appendChild(C);const b=document.createElement("p");b.classList.add("application-weather-temperature"),b.textContent=`${A}°`,t.appendChild(b);const S=document.createElement("p");S.classList.add("application-weather-temperature-feel"),S.textContent=`Feels like: ${k}°`,t.appendChild(S);const w=document.createElement("div");w.classList.add("application-weather-extras"),t.appendChild(w);const T=document.createElement("p");T.textContent=`Humidity: ${h}%`,w.appendChild(T);const F=document.createElement("p");F.textContent=`Pressure: ${g}hPa`,w.appendChild(F);const O=document.createElement("br");w.appendChild(O);const $=new Date(f*1e3),M=document.createElement("p");M.textContent=`Sunrise: ${$.getHours().toString().padStart(2,"0")}:${$.getMinutes().toString().padStart(2,"0")}`,w.appendChild(M);const W=new Date(m*1e3),j=document.createElement("p");j.textContent=`Sunset: ${W.getHours().toString().padStart(2,"0")}:${W.getMinutes().toString().padStart(2,"0")}`,w.appendChild(j)})}}const D=document.querySelector(".desktop"),z=document.querySelector(".application-icon-game");z.addEventListener("click",Z);const _=document.querySelector(".application-icon-chat");_.addEventListener("click",ee);const Q=document.querySelector(".application-icon-weather");Q.addEventListener("click",te);let I;function Z(){const a=N("Memory Game");K(a)}function ee(){const a=N("Chat App");U(a)}function te(){const a=N("Weather App");V(a)}function N(a){const e=document.createElement("div");e.classList.add("application-window"),e.setAttribute("draggable","true"),D.appendChild(e);const o=document.createElement("div");o.classList.add("application-window-header"),e.appendChild(o);const i=document.createElement("div");i.classList.add("application-window-header-close"),i.addEventListener("click",()=>{ne(e)}),o.appendChild(i);const t=document.createElement("p");return t.classList.add("application-window-header-title"),t.textContent=a,o.appendChild(t),e.addEventListener("click",()=>{H(e)}),e.addEventListener("dragstart",n=>{const r=window.getComputedStyle(n.target,null),p=parseInt(r.getPropertyValue("left"),10)-n.clientX,L=parseInt(r.getPropertyValue("top"),10)-n.clientY,c={posX:p,posY:L};n.dataTransfer.setData("application/json",JSON.stringify(c)),H(e)}),D.addEventListener("drop",n=>{if(I===e){const r=JSON.parse(n.dataTransfer.getData("application/json")),p=n.clientX,L=n.clientY;e.style.left=p+r.posX+"px",e.style.top=L+r.posY+"px"}}),D.addEventListener("dragover",n=>{n.preventDefault()}),H(e),e}function H(a){I&&(I.style.zIndex=1),I=a,I.style.zIndex=2}function ne(a){D.removeChild(a)}function B(a){return a===I}
